---
layout: post
title: Building a JMS test plan with JMeter and ActiveMQ
categories:
- Tips &amp; tricks
tags:
- JMS
- ActiveMQ
- JMeter
comments:
- id: 129429
  content: Thank you sir!
- id: 132239
  content: Thank you! It worked for me.
- id: 132773
  content: "Had to leave a comment to say that this fixed a problem I was having for
    days. And this short blog post is the only resource I found with this solution.\r\n\r\nThanks"
- id: 133177
  content: thanks for the solution, it worked
---
<p>JMeter supports JMS test plans almost out of the box. Only a simple operation is needed before using the dedicated samplers.<!--more--></p>
<p>JMeter supports the JMS API but does not bundle any implementation (<a href="http://jmeter.apache.org/usermanual/get-started.html " target="_blank">source</a>). We are going to use <a href="http://activemq.apache.org/" target="_blank">Apache ActiveMQ</a> as an implementation and make it available to JMeter.</p>
<p>Download the activemq-all-x.y.z.jar artefact, from say <a href="http://mvnrepository.com/artifact/org.apache.activemq/activemq-all " target="_blank">mvnrepository.com</a>; <a href="http://repo1.maven.org/maven2/org/apache/activemq/activemq-all/5.9.0/activemq-all-5.9.0.jar " target="_blank">direct link to v5.9.0</a>.</p>
<p>Move the downloaded JAR to the <code>JMETER_HOME/lib</code> folder, for this is the right place for "utility jars", according to <a href="http://jmeter.apache.org/usermanual/get-started.html#classpath " target="_blank">the doc</a>.</p>
<p>If JMeter is already started, you have to restart it before going on.</p>
<p>Now, you can follow <a href="http://jmeter.apache.org/usermanual/build-jms-topic-test-plan.html" target="_blank">the official tutorial</a> without getting errors such as:</p>
<pre>Response message: javax.naming.NamingException: javax.naming.NoInitialContextException: Cannot instantiate class: org.apache.activemq.jndi.ActiveMQInitialContextFactory 
[Root exception is java.lang.ClassNotFoundException: org.apache.activemq.jndi.ActiveMQInitialContextFactory]</pre>
